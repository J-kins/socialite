/**
 * TableRow Molecule Styles (AngularJS)
 * Table row styling
 */

.table-row {
  @apply border-b border-gray-200 hover:bg-gray-50 transition-colors duration-200;
}

.table-row:last-child {
  @apply border-b-0;
}

/* Selection state */
.table-row.table-row--selected {
  @apply bg-blue-50 border-blue-200;
}

.table-row.table-row--selectable {
  @apply cursor-pointer;
}

.table-row.table-row--selectable::before {
  content: "";
  @apply absolute left-2 top-1/2 transform -translate-y-1/2;
  @apply w-4 h-4 border-2 border-gray-300 rounded bg-white;
}

.table-row {
  @apply relative;
}

.table-row.table-row--selected::before {
  @apply border-blue-500 bg-blue-500;
}

.table-row.table-row--selected::after {
  content: "âœ“";
  @apply absolute left-2.5 top-1/2 transform -translate-y-1/2;
  @apply text-white text-xs font-bold;
}

/* Row states */
.table-row.table-row--disabled {
  @apply opacity-50 pointer-events-none;
}

.table-row.table-row--error {
  @apply bg-red-50 border-red-200;
}

.table-row.table-row--warning {
  @apply bg-yellow-50 border-yellow-200;
}

.table-row.table-row--success {
  @apply bg-green-50 border-green-200;
}

.table-row.table-row--new {
  @apply bg-blue-50 border-blue-200;
  animation: highlightNew 2s ease-out;
}

@keyframes highlightNew {
  0% {
    @apply bg-blue-200;
  }
  100% {
    @apply bg-blue-50;
  }
}

/* Row types */
.table-row.table-row--header {
  @apply bg-gray-50 font-semibold border-b-2 border-gray-300;
  @apply hover:bg-gray-50;
}

.table-row.table-row--footer {
  @apply bg-gray-50 font-semibold border-t-2 border-gray-300;
  @apply hover:bg-gray-50;
}

.table-row.table-row--group {
  @apply bg-gray-100 font-medium border-t-2 border-gray-400;
  @apply hover:bg-gray-100;
}

.table-row.table-row--summary {
  @apply bg-gray-50 font-semibold;
}

/* Cell styling */
.table-row .table-cell {
  @apply px-4 py-3 text-sm text-gray-900 align-middle;
}

.table-row .table-cell.table-cell--center {
  @apply text-center;
}

.table-row .table-cell.table-cell--right {
  @apply text-right;
}

.table-row .table-cell.table-cell--nowrap {
  @apply whitespace-nowrap;
}

.table-row .table-cell.table-cell--truncate {
  @apply truncate max-w-xs;
}

.table-row .table-cell.table-cell--number {
  @apply text-right font-mono;
}

.table-row .table-cell.table-cell--currency {
  @apply text-right font-medium;
}

.table-row .table-cell.table-cell--date {
  @apply whitespace-nowrap font-mono text-xs;
}

/* Cell content types */
.table-row .table-cell .cell-avatar {
  @apply w-8 h-8 rounded-full object-cover;
}

.table-row .table-cell .cell-status {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.table-row .table-cell .cell-status.status-active {
  @apply bg-green-100 text-green-800;
}

.table-row .table-cell .cell-status.status-inactive {
  @apply bg-gray-100 text-gray-800;
}

.table-row .table-cell .cell-status.status-pending {
  @apply bg-yellow-100 text-yellow-800;
}

.table-row .table-cell .cell-status.status-error {
  @apply bg-red-100 text-red-800;
}

.table-row .table-cell .cell-button {
  @apply inline-flex items-center px-3 py-1 border border-gray-300 rounded-md;
  @apply text-xs font-medium text-gray-700 bg-white hover:bg-gray-50;
  @apply transition-colors cursor-pointer;
}

.table-row .table-cell .cell-button.button-primary {
  @apply border-blue-600 text-blue-600 hover:bg-blue-50;
}

.table-row .table-cell .cell-button.button-danger {
  @apply border-red-600 text-red-600 hover:bg-red-50;
}

/* Actions cell */
.table-row .table-cell.table-cell--actions {
  @apply text-right whitespace-nowrap;
}

.table-row .table-cell--actions .action-menu {
  @apply inline-flex items-center p-1 text-gray-400 hover:text-gray-600;
  @apply hover:bg-gray-100 rounded transition-colors;
}

/* Expandable row */
.table-row.table-row--expandable {
  @apply cursor-pointer;
}

.table-row.table-row--expandable .expand-icon {
  @apply w-4 h-4 text-gray-400 transition-transform duration-200;
}

.table-row.table-row--expanded .expand-icon {
  @apply rotate-90;
}

.table-row.table-row--child {
  @apply bg-gray-25 border-l-4 border-blue-500;
}

/* Loading row */
.table-row.table-row--loading {
  @apply opacity-60;
}

.table-row.table-row--loading .table-cell {
  @apply relative overflow-hidden;
}

.table-row.table-row--loading .table-cell::before {
  content: "";
  @apply absolute inset-0 bg-gray-200 animate-pulse rounded;
}

/* Size variants */
.table-row.table-row--compact .table-cell {
  @apply px-3 py-2 text-xs;
}

.table-row.table-row--comfortable .table-cell {
  @apply px-6 py-4 text-base;
}

/* Striped rows */
.table-striped .table-row:nth-child(even) {
  @apply bg-gray-50;
}

.table-striped .table-row:nth-child(even):hover {
  @apply bg-gray-100;
}

/* AngularJS specific */
.table-row.ng-enter {
  @apply opacity-0 transform translate-y-4 transition-all duration-300;
}

.table-row.ng-enter-active {
  @apply opacity-100 transform translate-y-0;
}

.table-row.ng-leave {
  @apply opacity-100 transition-all duration-300;
}

.table-row.ng-leave-active {
  @apply opacity-0 transform -translate-y-4;
}

/* Mobile responsive */
@media (max-width: 640px) {
  .table-row .table-cell {
    @apply px-2 py-2 text-xs;
  }

  .table-row .table-cell.table-cell--truncate {
    @apply max-w-[100px];
  }

  .table-row .table-cell .cell-button {
    @apply px-2 py-1 text-xs;
  }

  .table-row.table-row--selectable::before {
    @apply left-1;
  }

  .table-row.table-row--selected::after {
    @apply left-1.5;
  }
}

/* Touch devices */
@media (pointer: coarse) {
  .table-row.table-row--selectable {
    @apply py-1;
  }

  .table-row .table-cell .cell-button {
    @apply py-2 min-h-[44px] flex items-center justify-center;
  }

  .table-row .table-cell--actions .action-menu {
    @apply p-2 min-w-[44px] min-h-[44px] flex items-center justify-center;
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .table-row {
    @apply border-gray-700 hover:bg-gray-800;
  }

  .table-row.table-row--selected {
    @apply bg-blue-900/20 border-blue-800;
  }

  .table-row.table-row--header,
  .table-row.table-row--footer,
  .table-row.table-row--group,
  .table-row.table-row--summary {
    @apply bg-gray-800 border-gray-600;
  }

  .table-row .table-cell {
    @apply text-gray-100;
  }

  .table-row .table-cell .cell-button {
    @apply border-gray-600 text-gray-300 bg-gray-800 hover:bg-gray-700;
  }

  .table-row.table-row--error {
    @apply bg-red-900/20 border-red-800;
  }

  .table-row.table-row--warning {
    @apply bg-yellow-900/20 border-yellow-800;
  }

  .table-row.table-row--success {
    @apply bg-green-900/20 border-green-800;
  }

  .table-striped .table-row:nth-child(even) {
    @apply bg-gray-800/50;
  }

  .table-striped .table-row:nth-child(even):hover {
    @apply bg-gray-800;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .table-row {
    @apply border-b-2 border-black;
  }

  .table-row.table-row--selected {
    @apply border-4 border-blue-600;
  }

  .table-row .table-cell {
    @apply text-black font-medium;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .table-row {
    @apply transition-none;
  }

  .table-row.table-row--new {
    animation: none;
  }

  .table-row .expand-icon {
    @apply transition-none;
  }

  .table-row.ng-enter,
  .table-row.ng-leave {
    @apply transition-none;
  }

  .table-row.table-row--loading .table-cell::before {
    @apply animate-none;
  }
}

/* Print styles */
@media print {
  .table-row .table-cell--actions {
    @apply hidden;
  }

  .table-row.table-row--selectable::before {
    @apply hidden;
  }

  .table-row:hover {
    @apply bg-transparent;
  }
}
