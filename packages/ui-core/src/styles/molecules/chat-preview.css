/* Chat Preview Component Styles */
.chat-preview {
  @apply flex items-center gap-3 p-3 rounded-lg;
  @apply hover:bg-gray-50 dark:hover:bg-gray-800;
  @apply cursor-pointer transition-all duration-200;
  @apply border-b border-gray-100 dark:border-gray-700 last:border-b-0;
}

/* Chat Preview States */
.chat-preview-active {
  @apply bg-blue-50 dark:bg-blue-900/20;
  @apply border-blue-200 dark:border-blue-800;
}

.chat-preview-unread {
  @apply bg-blue-50 dark:bg-blue-900/10;
}

.chat-preview-online {
  @apply border-l-4 border-green-500;
}

.chat-preview-offline {
  @apply border-l-4 border-gray-300 dark:border-gray-600;
}

/* Chat Preview Avatar */
.chat-preview-avatar {
  @apply relative w-12 h-12 flex-shrink-0;
}

.chat-preview-avatar-image {
  @apply w-full h-full rounded-full object-cover;
  @apply border-2 border-white dark:border-gray-800;
}

.chat-preview-avatar-fallback {
  @apply w-full h-full rounded-full bg-gradient-to-br from-blue-500 to-purple-600;
  @apply flex items-center justify-center text-white font-medium;
}

.chat-preview-avatar-group {
  @apply grid grid-cols-2 gap-0.5 w-12 h-12;
}

.chat-preview-avatar-group img {
  @apply w-full h-full rounded-full object-cover;
}

/* Chat Preview Status */
.chat-preview-status {
  @apply absolute -bottom-1 -right-1 w-3 h-3;
  @apply border-2 border-white dark:border-gray-800;
  @apply rounded-full;
}

.chat-preview-status-online {
  @apply bg-green-500;
}

.chat-preview-status-offline {
  @apply bg-gray-400;
}

.chat-preview-status-away {
  @apply bg-yellow-500;
}

.chat-preview-status-busy {
  @apply bg-red-500;
}

/* Chat Preview Content */
.chat-preview-content {
  @apply flex-1 min-w-0;
}

.chat-preview-header {
  @apply flex items-center justify-between mb-1;
}

.chat-preview-name {
  @apply font-semibold text-gray-900 dark:text-gray-100;
  @apply truncate text-sm;
}

.chat-preview-time {
  @apply text-xs text-gray-500 dark:text-gray-400;
  @apply flex-shrink-0 ml-2;
}

.chat-preview-message {
  @apply text-sm text-gray-600 dark:text-gray-400;
  @apply truncate leading-tight;
}

.chat-preview-message-preview {
  @apply flex items-center gap-1;
}

/* Chat Preview Message Types */
.chat-preview-message-text {
  @apply text-gray-600 dark:text-gray-400;
}

.chat-preview-message-image {
  @apply text-blue-600 dark:text-blue-400;
}

.chat-preview-message-video {
  @apply text-purple-600 dark:text-purple-400;
}

.chat-preview-message-audio {
  @apply text-green-600 dark:text-green-400;
}

.chat-preview-message-file {
  @apply text-orange-600 dark:text-orange-400;
}

.chat-preview-message-typing {
  @apply text-blue-500 dark:text-blue-400 italic;
}

/* Chat Preview Icons */
.chat-preview-message-icon {
  @apply w-3 h-3 flex-shrink-0;
}

.chat-preview-typing-indicator {
  @apply flex items-center gap-1;
}

.chat-preview-typing-dots {
  @apply flex gap-0.5;
}

.chat-preview-typing-dot {
  @apply w-1 h-1 bg-blue-500 rounded-full;
  animation: typing-pulse 1.4s infinite;
}

.chat-preview-typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.chat-preview-typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes typing-pulse {
  0%,
  80%,
  100% {
    opacity: 0.4;
  }
  40% {
    opacity: 1;
  }
}

/* Chat Preview Badge */
.chat-preview-badge {
  @apply absolute -top-1 -right-1;
  @apply min-w-[1rem] h-4 px-1;
  @apply bg-red-500 text-white text-xs font-medium;
  @apply rounded-full flex items-center justify-center;
  @apply border-2 border-white dark:border-gray-800;
}

.chat-preview-badge-muted {
  @apply bg-gray-400;
}

/* Chat Preview Meta */
.chat-preview-meta {
  @apply flex items-center justify-between mt-1;
}

.chat-preview-indicators {
  @apply flex items-center gap-1;
}

.chat-preview-delivery-status {
  @apply w-3 h-3 text-gray-400;
}

.chat-preview-delivery-sent {
  @apply text-gray-400;
}

.chat-preview-delivery-delivered {
  @apply text-blue-500;
}

.chat-preview-delivery-read {
  @apply text-blue-600;
}

.chat-preview-muted-icon {
  @apply w-3 h-3 text-gray-400;
}

.chat-preview-pinned-icon {
  @apply w-3 h-3 text-yellow-500;
}

/* Chat Preview Actions */
.chat-preview-actions {
  @apply flex items-center gap-1 opacity-0;
  @apply transition-opacity duration-200;
}

.chat-preview:hover .chat-preview-actions {
  @apply opacity-100;
}

.chat-preview-action {
  @apply p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700;
  @apply text-gray-400 hover:text-gray-600 dark:hover:text-gray-200;
  @apply transition-colors duration-200;
}

/* Chat Preview Group */
.chat-preview-group .chat-preview-name::before {
  @apply inline-block w-3 h-3 mr-1;
  @apply bg-gray-400 rounded-full;
  content: "";
}

.chat-preview-group-name {
  @apply flex items-center gap-1;
}

.chat-preview-group-icon {
  @apply w-3 h-3 text-gray-500;
}

.chat-preview-participants {
  @apply text-xs text-gray-500 dark:text-gray-400;
}

/* Chat Preview Attachment */
.chat-preview-attachment {
  @apply flex items-center gap-1 text-xs;
  @apply text-gray-500 dark:text-gray-400;
}

.chat-preview-attachment-icon {
  @apply w-3 h-3;
}

/* Chat Preview Search Highlight */
.chat-preview-highlight {
  @apply bg-yellow-200 dark:bg-yellow-800 font-medium;
}

/* Chat Preview Sizes */
.chat-preview-sm {
  @apply p-2 gap-2;
}

.chat-preview-sm .chat-preview-avatar {
  @apply w-8 h-8;
}

.chat-preview-sm .chat-preview-name {
  @apply text-xs;
}

.chat-preview-sm .chat-preview-message {
  @apply text-xs;
}

.chat-preview-lg {
  @apply p-4 gap-4;
}

.chat-preview-lg .chat-preview-avatar {
  @apply w-14 h-14;
}

.chat-preview-lg .chat-preview-name {
  @apply text-base;
}

/* Chat Preview Loading */
.chat-preview-loading {
  @apply animate-pulse;
}

.chat-preview-loading .chat-preview-avatar {
  @apply bg-gray-200 dark:bg-gray-700;
}

.chat-preview-loading .chat-preview-name {
  @apply bg-gray-200 dark:bg-gray-700 rounded h-4 w-24;
}

.chat-preview-loading .chat-preview-message {
  @apply bg-gray-200 dark:bg-gray-700 rounded h-3 w-32 mt-1;
}

/* Chat Preview Swipe Actions */
.chat-preview-swipeable {
  @apply relative overflow-hidden;
}

.chat-preview-swipe-actions {
  @apply absolute inset-y-0 right-0 flex items-center;
  @apply bg-red-500 text-white px-4;
  @apply transform translate-x-full transition-transform duration-200;
}

.chat-preview-swiped .chat-preview-swipe-actions {
  @apply transform translate-x-0;
}

/* Chat Preview Contextual */
.chat-preview-archived {
  @apply opacity-60;
}

.chat-preview-blocked {
  @apply opacity-40;
  @apply bg-red-50 dark:bg-red-900/10;
}

.chat-preview-draft {
  @apply border-l-4 border-orange-500;
}

/* Chat Preview Call Status */
.chat-preview-call-missed {
  @apply text-red-600 dark:text-red-400;
}

.chat-preview-call-incoming {
  @apply text-green-600 dark:text-green-400;
}

.chat-preview-call-outgoing {
  @apply text-blue-600 dark:text-blue-400;
}

.chat-preview-call-icon {
  @apply w-3 h-3 mr-1;
}

/* Chat Preview Animation */
.chat-preview-enter {
  @apply opacity-0 transform translate-x-4;
}

.chat-preview-enter-active {
  @apply opacity-100 transform translate-x-0;
  transition: all 300ms ease-out;
}

.chat-preview-exit {
  @apply opacity-100 transform translate-x-0;
}

.chat-preview-exit-active {
  @apply opacity-0 transform -translate-x-4;
  transition: all 200ms ease-in;
}

/* Chat Preview Responsive */
@media (max-width: 640px) {
  .chat-preview-responsive {
    @apply p-2 gap-2;
  }

  .chat-preview-responsive .chat-preview-avatar {
    @apply w-10 h-10;
  }

  .chat-preview-responsive .chat-preview-actions {
    @apply opacity-100;
  }

  .chat-preview-responsive .chat-preview-time {
    @apply hidden;
  }
}

/* Chat Preview Dark Mode */
.dark .chat-preview-active {
  @apply bg-blue-900/20 border-blue-800;
}

.dark .chat-preview-unread {
  @apply bg-blue-900/10;
}

/* Chat Preview Print */
@media print {
  .chat-preview {
    @apply bg-transparent text-black;
  }

  .chat-preview-actions {
    @apply hidden;
  }
}

/* Chat Preview Accessibility */
.chat-preview[role="listitem"]:focus {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
  @apply dark:ring-offset-gray-900;
}

.chat-preview[aria-selected="true"] {
  @apply bg-blue-50 dark:bg-blue-900/20;
}

/* Chat Preview High Contrast */
@media (prefers-contrast: high) {
  .chat-preview {
    @apply border border-gray-400;
  }

  .chat-preview-active {
    @apply border-2 border-blue-600;
  }
}

/* Chat Preview Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .chat-preview {
    @apply transition-none;
  }

  .chat-preview-typing-dot {
    @apply animate-none;
  }
}

/* Chat Preview Custom States */
.chat-preview-priority-high {
  @apply ring-2 ring-red-500 ring-opacity-50;
}

.chat-preview-encrypted {
  @apply relative;
}

.chat-preview-encrypted::after {
  @apply absolute top-2 right-2 w-3 h-3;
  @apply text-green-600;
  content: "ðŸ”’";
}

.chat-preview-bot {
  @apply border-l-4 border-purple-500;
}

.chat-preview-bot .chat-preview-name::after {
  @apply ml-1 text-xs text-purple-600;
  content: "BOT";
}
